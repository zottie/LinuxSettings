(function(){var d=20,b=537.33,c=!1;try{c=-1!=navigator.userAgent.search("OPR/")}catch(e){}try{b=Number(navigator.userAgent.match(/AppleWebKit\/([0-9]+\.[0-9]+)/)[1])}catch(f){}try{d=parseInt(navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)[2])}catch(g){}var a={CONSTANTS:{STORAGE:{SCHEMA:"#schema",TYPE:"#storage",CONFIG:"#config",VERSION:"#version",LEGACY_VERSION:"TM_version",LAST_START:"#laststart",UPDATE:"#update"},PREFIX:{SCRIPT_UID:"@uid#",COND:"@re#",STORE:"@st#",SCRIPT:"@source#",EXTERNAL:"@ext#",
META:"@meta#"}},RUNTIME:{CHROME:!c,OPERA:c,BROWSER_VERSION:d,WEBKIT_VERSION:b,ALLOWS_SAFE_CONTEXT:!0,ALLOWS_FAST_DOCUMENT_START:!0,NEED_UNSAFEWINDOW_PROXY:537.35<=b,ALLOWS_FILE_SCHEME_ACCESS:null},ACTIONMENU:{COLUMNS:2},SELF:{ID:function(){var a=chrome.extension.getURL("/").replace(/\//gi,"").split(":");return 2>a.length?"":a[1]}()},DB:{USE:null,DEFAULT:"chromeStorage"},XMLHTTPREQUEST:{RETRIES:2},DOWNLOAD:{SUPPORTED:31<=d},PINGPONG:{RETRIES:5},MISC:{TIMEOUT:1,IDLE_TIMEOUT:30,DISTURBANCE_ALLOWED:60},
WEBREQUEST:{use:!0,headers:!0,verified:!1,verifyCnt:20,id:0,prefix:"TM_",testprefix:"foobar"},HTML5:{LOCALSTORAGE:null},REQUESTS:{HAS_SENDER_ID:!0,INTERNAL_PAGE_URL:"chrome-extension://",GET_INTERNAL_PAGE_REGEXP:function(){return RegExp(a.REQUESTS.INTERNAL_PAGE_URL+a.SELF.ID+"/([a-zA-Z]*)\\.html")}},OPTIONS:{HAS_CSP:!0,HAS_TESLA:!c,HAS_TAMPERFIRE:!0},PREPARED_FOR_BACKGROUND:function(c){try{a.HTML5.LOCALSTORAGE=window.localStorage}catch(d){console.warn("prep: window.localStorage will be unavailable")}a.DB.USE=
a.DB.DEFAULT;try{a.HTML5.LOCALSTORAGE&&(a.DB.NO_WARNING="nowarning"===a.HTML5.LOCALSTORAGE.getItem("#brokenprofile"),a.DB.USE=a.HTML5.LOCALSTORAGE.getItem(a.CONSTANTS.STORAGE.TYPE)||a.DB.DEFAULT)}catch(b){console.warn("prep: error at storage type detection",b)}chrome.extension.isAllowedFileSchemeAccess(function(b){a.RUNTIME.ALLOWS_FILE_SCHEME_ACCESS=b;c&&c()});return a}};Registry.register("prepare","52",a)})();
