(function(){function l(c){var b=c.getCursor(),a=c.getTokenAt(b),e=CodeMirror.innerMode(c.getMode(),a.state).mode,d;if("comment"==a.type&&e.blockCommentStart){var f=a.string.indexOf(e.blockCommentEnd),b=c.getRange(CodeMirror.Pos(b.line,0),CodeMirror.Pos(b.line,a.end)),g;if(-1==f||f!=a.string.length-e.blockCommentEnd.length)if(0==a.string.indexOf(e.blockCommentStart)){if(d=b.slice(0,a.start),!/^\s*$/.test(d))for(d="",f=0;f<a.start;++f)d+=" "}else-1!=(g=b.indexOf(e.blockCommentContinue))&&g+e.blockCommentContinue.length>
a.start&&/^\s*$/.test(b.slice(0,g))&&(d=b.slice(0,g))}if(null!=d)c.replaceSelection("\n"+d+e.blockCommentContinue,"end");else return CodeMirror.Pass}for(var k=["clike","css","javascript"],h=0;h<k.length;++h)CodeMirror.extendMode(k[h],{blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * "});CodeMirror.defineOption("continueComments",null,function(c,b,a){a&&a!=CodeMirror.Init&&c.removeKeyMap("continueComment");a={name:"continueComment"};a["string"==typeof b?b:"Enter"]=l;c.addKeyMap(a)})})();
