(function(){var a=null;Registry.require("crcrc",function(){var m=Registry.get("crcrc"),C=m.cr,f=m.crc,l=0,D=function(e,c,a,d,g){d||(d="");var b=f("table","curtable"+(g?" "+g:""),c,a,"table"+d);g=f("tr",g?" "+g:"",c,a,"tr2"+d);var k=f("td","curtableoutertd",c,a,"td1"+d),n=f("td","curtableinner",c,a,"td2"+d);c=f("td","curtableoutertd",c,a,"td3"+d);g.appendChild(k);g.appendChild(n);g.appendChild(c);b.appendChild(g);e&&n.appendChild(e);return b},p=function(a,c,h,d,g){var b=C("div",c,h,"p"+d),k=f("div",
"curbg",c,h,"c"+d),n=f("div","curmiddle",c,h,"d"+d);b.inserted||(b.setAttribute("class","curouter hide"),b.setAttribute("style","z-index: "+(c?"10000":"20000")));a=D(a,c,h,d,g);n.appendChild(a);b.appendChild(n);b.appendChild(k);b.show=function(){b.setAttribute("class","curouter block")};b.hide=function(){b.setAttribute("class","curouter hide")};b.remove=function(){b.parentNode&&b.parentNode.removeChild(b)};b.setText=function(a){b.text=a};b.print=function(a){b.text&&(b.text.textContent=a)};k=document.getElementsByTagName("body");
k.length?k[0].appendChild(b):console.log("Err: Body not found!");return b};Registry.register("curtain","52",{wait:function(e){a&&0!=l&&(a.remove(),a=null);void 0===e&&(e=chrome.i18n.getMessage("Please_wait___"));if(a)e&&a.print(e);else{l=0;var c=e;e=document.createElement("div");e.setAttribute("class","curcontainer");var h=document.createElement("div");h.setAttribute("class","curwaithead");var d=document.createElement("div");d.setAttribute("class","curwaitmsg");var g=document.createElement("div"),
b=document.createElement("div");b.textContent=c;b.setAttribute("class","curtext");c=document.createElement("div");c.innerHTML="<br>";var k=document.createElement("img");k.src=chrome.extension.getURL("images/large-loading.gif");g.appendChild(k);d.appendChild(g);d.appendChild(c);d.appendChild(b);e.appendChild(h);e.appendChild(d);a=p(e);a.setText(b)}a.show()},hide:function(){a&&a.hide()},login:function(e,c){a&&(a.remove(),a=null);l=1;var h=function(a){var c=document.createElement("div");c.setAttribute("class",
"curcontainer");var b=document.createElement("div");b.setAttribute("class","curwaithead");var k=document.createElement("div");k.setAttribute("class","curwaitmsg");var h=document.createElement("form");h.setAttribute("action","#login");var f=document.createElement("table"),l=document.createElement("tr"),u=document.createElement("tr"),v=document.createElement("tr"),m=document.createElement("tr"),q=document.createElement("td");q.setAttribute("colspan","2");q.setAttribute("class","login_hint");var p=document.createElement("td"),
x=document.createElement("td"),y=document.createElement("td"),z=document.createElement("td"),w=document.createElement("td");w.setAttribute("colspan","2");var A=document.createElement("span"),B=document.createElement("span"),r=document.createElement("input"),s=document.createElement("input"),t=document.createElement("input");a&&f.appendChild(l);f.appendChild(u);f.appendChild(v);f.appendChild(m);l.appendChild(q);u.appendChild(p);u.appendChild(x);v.appendChild(y);v.appendChild(z);m.appendChild(w);p.appendChild(A);
x.appendChild(r);y.appendChild(B);z.appendChild(s);w.appendChild(t);h.appendChild(f);k.appendChild(h);c.appendChild(b);c.appendChild(k);a&&(q.textContent=a);A.textContent=chrome.i18n.getMessage("Username");B.textContent=chrome.i18n.getMessage("Password");t.value=chrome.i18n.getMessage("Login");r.setAttribute("type","text");r.setAttribute("label","username");s.setAttribute("type","password");s.setAttribute("label","password");t.setAttribute("type","submit");t.addEventListener("click",function(){e&&
e(r.value,s.value)});return{all:c,text:f}}(c);a=p(h.all);a.show()}})})})();
